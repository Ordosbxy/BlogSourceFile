---
title: 运维人员常用的Linux命令总结
date: 2016-03-28 10:35:56
tags:
  - 运维
  - Linux
  - 命令
  - 总结
categories:
  - Linux
---
# 运维人员常用的Linux命令总结

## 目录结构

| 目录               | 说明                                       |
| ---------------- | ---------------------------------------- |
| /bin             | 存放可执行文件                                  |
| /boot            | 核心与启动相关文件                                |
| /dev             | 设备有关的文件                                  |
| /etc             | 相关的配置信息                                  |
| /etc/rc.d        | 存放开关机过程中用到的脚本文件                          |
| /etc/rc.d/init.d | 所以服务默认的启动脚本都放在这里                         |
| /etc/xinetd.d    | 启动服务可在此找到                                |
| /etc/X11         | 与X windows有关的配置文件                        |
| /lib             | 执行或编译某些程序时用到的函数库                         |
| /proc            | 系统核心与执行程序所需要的一些信息。都是内存中的数据               |
| /root            | 系统管理员根目录                                 |
| /sbin            | 系统管理常用的程序                                |
| /tmp             | 存放临时文件的地方                                |
| /usr             | 存放系统信息，用来存放程序与指令。类似windows下的program  flies |

其中重点需要掌握的是/etc目录和/proc目录。



## 监控

### 查看CPU详细信息

cpu相关信息存放在/proc/cpuinfo目录中，所以要查看cpu信息就可以用以下命令：

```shell
cat /proc/cpuinfo
```

得到相关的cpu信息如下：

```
processor	: 0
vendor_id	: GenuineIntel
cpu family	: 6
model		: 60
model name	: Intel(R) Pentium(R) CPU G3260 @ 3.30GHz
stepping	: 3
cpu MHz		: 800.000
cache size	: 3072 KB
physical id	: 0
siblings	: 2
core id		: 0
cpu cores	: 2
apicid		: 0
initial apicid	: 0
fpu		: yes
fpu_exception	: yes
cpuid level	: 13
wp		: yes
flags		: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon pebs bts rep_good xtopology nonstop_tsc aperfmperf pni pclmulqdq dtes64 monitor ds_cpl vmx est tm2 ssse3 cx16 xtpr pdcm pcid sse4_1 sse4_2 movbe popcnt tsc_deadline_timer xsave rdrand lahf_lm abm arat epb xsaveopt pln pts dts tpr_shadow vnmi flexpriority ept vpid fsgsbase erms invpcid
bogomips	: 6584.81
clflush size	: 64
cache_alignment	: 64
address sizes	: 39 bits physical, 48 bits virtual
power management:

processor	: 1
vendor_id	: GenuineIntel
cpu family	: 6
model		: 60
model name	: Intel(R) Pentium(R) CPU G3260 @ 3.30GHz
stepping	: 3
cpu MHz		: 800.000
cache size	: 3072 KB
physical id	: 0
siblings	: 2
core id		: 1
cpu cores	: 2
apicid		: 2
initial apicid	: 2
fpu		: yes
fpu_exception	: yes
cpuid level	: 13
wp		: yes
flags		: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon pebs bts rep_good xtopology nonstop_tsc aperfmperf pni pclmulqdq dtes64 monitor ds_cpl vmx est tm2 ssse3 cx16 xtpr pdcm pcid sse4_1 sse4_2 movbe popcnt tsc_deadline_timer xsave rdrand lahf_lm abm arat epb xsaveopt pln pts dts tpr_shadow vnmi flexpriority ept vpid fsgsbase erms invpcid
bogomips	: 6584.81
clflush size	: 64
cache_alignment	: 64
address sizes	: 39 bits physical, 48 bits virtual
power management:

```

上面的这些cpu信息我们需要关注的是processor，physical id，siblings，core id，cpu cores这几个字段。这几个字字段的含义如下图：

![Linux-cpuinfo](http://7xpzxw.com1.z0.glb.clouddn.com/Linux-cpuinfo.png)

根据上面的介绍可知我这台服务器上有一个物理cpu，2个逻辑处理器（逻辑cpu），这个物理cpu有两个内核。

可以通过以下方法查询CPU状态。

#### 查询逻辑CPU个数

```
cat /proc/cpuinfo | grep "processor" | wc -l
```

#### 查询物理CPU个数

```
cat /proc/cpuinfo | grep "physical id" | sort | uniq | wc -l
```

#### 查询每个物理cpu中core的个数

```
cat /proc/cpuinfo | grep "core id" | wc -l
```

### 查看cpu利用率

查看cpu利用率可以用top命令。top命令可以显示当前系统正在执行的进程的相关信息，包括进程ID、内存占用率、CPU占用率等。

关于cpu利用率和cpu负载的详细计算方法可以参见：[Load和CPU利用率是如何算出来的](http://www.penglixun.com/tech/system/how_to_calc_load_cpu.html)

### linux版本信息

cat/proc/version      lsb_release–a       

### 内存信息

cat/proc/meminfo   free –m  top        

### 磁盘情况

df–h     df–I       fdisk-l        lsblk



## 字符集相关

v查看当前字符集:echo$LANG

v系统所有字符集:locale –a

v字符集配置文件：vi/etc/sysconfig/i18n

v临时修改字符集:export LANG=字符集



## 服务

v--防火墙开关

vservice iptables status  service iptables start/stop

vftp服务开关

vservice vsftpdstatus  service vsftpd start/stop



## 常用命令

1、查看文本命令：cat  、more 、vim

例子:cat/more/vim  a.txt

2、文本处理

sed –i‘1,10d’ a.txt

3、修改系统时间

date-s '2016-3-25 12:41:00‘

clock–r

clock-w





